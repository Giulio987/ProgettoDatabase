studenti con più prestiti attivi


SELECT S.MATRICOLA,S.NOME,S.COGNOME,COUNT(P.MATRICOLA) AS NUMERO_PRESTITI
FROM PRESTITO P,STUDENTE S
WHERE P.MATRICOLA=S.MATRICOLA 
GROUP BY MATRICOLA
ORDER BY NUMERO_PRESTITI DESC;

dipartimenti con più libri (comprese le copie)


SELECT D.NOME_DIP,COUNT(C.NOME_DIP) AS NUMERO_LIBRI
FROM  DIPARTIMENTO D,COPIA C
WHERE D.NOME_DIP=C.NOME_DIP 
GROUP BY NOME_DIP
ORDER BY NUMERO_LIBRI DESC;

inserisco data trovo prestiti

SELECT P.ISBN,L.TITOLO,P.NUMERO_COPIA,MATRICOLA,P.DATA_USCITA
FROM  PRESTITO P,COPIA C,LIBRO L
WHERE P.ISBN=C.ISBN AND P.NUMERO_COPIA=C.NUMERO_COPIA AND C.ISBN=L.ISBN AND P.DATA_USCITA='%DATA';


prestiti in imminente scadenza

qui dovrò calcolare la data di rientro e vedere se è vicina a oggi (controllo su php)

SELECT P.ISBN,L.TITOLO,P.NUMERO_COPIA,P.DATA_USCITA
FROM  PRESTITO;


